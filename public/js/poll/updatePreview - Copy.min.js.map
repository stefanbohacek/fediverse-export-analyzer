{"version":3,"file":"updatePreview - Copy.min.js","sources":["poll/updatePreview - Copy.js"],"sourcesContent":["const renderPoll = () => {\r\n    const pollType = document.getElementById('poll-data-type');\r\n    const pollOptions = document.getElementById('poll-data-options');\r\n    const pollPreviewRendered = document.getElementById('poll-preview');\r\n\r\n    if (pollOptions.value && pollOptions.value.length){\r\n        const pollTypes = {\r\n            'single-choice': 'checkbox',\r\n            'multiple-choice': 'radio'\r\n        };\r\n        \r\n        const pollOptionsHTML = pollOptions.value\r\n              .trim()\r\n              .split('\\n')\r\n              .slice(0, 100)\r\n              .filter(option => option && option.length)\r\n              .map((option, index) => `\r\n                    <div class=\"form-check\">\r\n                        <input\r\n                            class=\"form-check-input\"\r\n                            type=\"${pollTypes[pollType.value]}\"\r\n                            name=\"poll-preview-options\"\r\n                            id=\"poll-preview-option-${index}\"\r\n                        >\r\n                        <label\r\n                            class=\"form-check-label\"\r\n                            for=\"poll-preview-option-${index}\"\r\n                        >\r\n                            ${option}\r\n                        </label>\r\n                    </div>                        \r\n              `).join('');\r\n    \r\n        pollPreviewRendered.innerHTML = pollOptionsHTML;\r\n    } else {\r\n        pollPreviewRendered.innerHTML = `<p class=\"card-text fst-italic\">${pollPreviewRendered.dataset.placeholder}</p>`;\r\n    }\r\n}\r\n\r\nconst updatePreview = (pollForm, pollPreview, field) => {\r\n    console.log('update preview...', {\r\n        'field.id': field.id,\r\n        'field.value': field.value,\r\n        field\r\n    });\r\n\r\n\r\n    const pollPreviewTitle = document.getElementById('poll-preview-title');\r\n    const pollPreviewDescription = document.getElementById('poll-preview-description');\r\n\r\n    switch (field.id) {\r\n        case 'poll-data-title':\r\n            if (field.value && field.value.length){\r\n                pollPreviewTitle.innerHTML = field.value.trim();\r\n            } else {\r\n                pollPreviewTitle.innerHTML = 'My poll';\r\n            }\r\n            break;\r\n        case 'poll-data-description':\r\n            if (field.value && field.value.length){\r\n                pollPreviewDescription.innerHTML = field.value.split('\\n').map(p => `<p>${p.trim()}</p>`).join('');\r\n            } else {\r\n                pollPreviewDescription.innerHTML = 'Vote in my poll!';\r\n            }\r\n            break;\r\n        case 'poll-data-options':\r\n        case 'poll-data-type':\r\n            renderPoll();\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n};\r\n\r\nrenderPoll();\r\n\r\nexport default updatePreview;\r\n"],"names":["renderPoll","pollType","document","getElementById","pollOptions","pollPreviewRendered","value","length","pollTypes","single-choice","multiple-choice","pollOptionsHTML","trim","split","slice","filter","option","map","index","join","innerHTML","dataset","placeholder","updatePreview","pollForm","pollPreview","field","console","log","field.id","id","field.value","pollPreviewTitle","pollPreviewDescription","p"],"mappings":"AAAA,MAAMA,WAAa,KACf,MAAMC,EAAWC,SAASC,eAAe,gBAAgB,EACzD,IAAMC,EAAcF,SAASC,eAAe,mBAAmB,EACzDE,EAAsBH,SAASC,eAAe,cAAc,EAElE,GAAIC,EAAYE,OAASF,EAAYE,MAAMC,OAAO,CAC9C,MAAMC,EAAY,CACdC,gBAAiB,WACjBC,kBAAmB,OACvB,EAEMC,EAAkBP,EAAYE,MAC7BM,KAAK,EACLC,MAAM,IAAI,EACVC,MAAM,EAAG,GAAG,EACZC,OAAOC,GAAUA,GAAUA,EAAOT,MAAM,EACxCU,IAAI,CAACD,EAAQE;;;;oCAIQV,EAAUP,EAASK;;sDAEDY;;;;uDAICA;;8BAEzBF;;;eAGf,EAAEG,KAAK,EAAE,EAEhBd,EAAoBe,UAAYT,CACpC,MACIN,EAAoBe,6CAA+Cf,EAAoBgB,QAAQC,iBAEvG,EAEMC,cAAgB,CAACC,EAAUC,EAAaC,KAC1CC,QAAQC,IAAI,oBAAqB,CAC7BC,WAAYH,EAAMI,GAClBC,cAAeL,EAAMpB,MACrBoB,MAAAA,CACJ,CAAC,EAGD,IAAMM,EAAmB9B,SAASC,eAAe,oBAAoB,EAC/D8B,EAAyB/B,SAASC,eAAe,0BAA0B,EAEjF,OAAQuB,EAAMI,IACV,IAAK,kBACGJ,EAAMpB,OAASoB,EAAMpB,MAAMC,OAC3ByB,EAAiBZ,UAAYM,EAAMpB,MAAMM,KAAK,EAE9CoB,EAAiBZ,UAAY,UAEjC,MACJ,IAAK,wBACGM,EAAMpB,OAASoB,EAAMpB,MAAMC,OAC3B0B,EAAuBb,UAAYM,EAAMpB,MAAMO,MAAM,IAAI,EAAEI,IAAIiB,SAAWA,EAAEtB,KAAK,OAAO,EAAEO,KAAK,EAAE,EAEjGc,EAAuBb,UAAY,mBAEvC,MACJ,IAAK,oBACL,IAAK,iBACDpB,WAAW,CAInB,CACJ,EAEAA,WAAW,iBAEIuB"}